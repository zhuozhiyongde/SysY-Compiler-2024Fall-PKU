# Lv8

## Koopa

必须修改掉 FuncType 的定义，不然会在 Decl 和 FuncDef 中间出现规约/移进冲突。

不用考虑同名函数依照参数列表的重载，但要考虑函数和变量同名的情况。

参数列表可以是 0、1 或者更多个。

load 和 store 指令的前缀需要适配，要注意是 `@` 开头还是 `%` 开头。

写完后，发现在 16_summary1 测试点上 `AE` 了，仔细检查尝试，发现了问题，即在不同函数体内可能声明同样的变量：

```c
int f() {
  int a = 1;
}

int g() {
  int a = 2;
}
```

这意味着你需要在每次进入函数体时清空 is_symbol_allocated，在两个函数体内各自生成一次 `alloc` 指令。

修改完后，就一遍 AC 了。